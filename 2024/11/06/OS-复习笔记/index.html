<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="John Doe">







<title>OS 复习笔记 | Hexo</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    







    <script src='https://unpkg.com/valine@1.4.16/dist/Valine.min.js'></script>




  <!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            首页
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">主页</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">归档</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/categories/gallery/">画廊</a>
              </li> 
                   
          
          
            <li class="menu-item search-btn">
              <a href="#">Search</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/2024-2025-1%E8%AF%BE%E5%86%85%E7%AC%94%E8%AE%B0/">
                            2024-2025-1课内笔记
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                OS 复习笔记
            
            
        </div>
        <span class="post-date">
            Nov 6, 2024
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <div class="post-content">
    <h1><span id="第七章-内存管理">第七章 内存管理</span></h1><h2><span id="一-内存管理的功能">一、内存管理的功能</span></h2><h3><span id="1内存分配的三种基本形式">1.内存分配的三种基本形式</span></h3><p><strong>（1）直接指定方式——编写程序时确定地址</strong></p>
<p><strong>（2）静态分配方式——程序装入内存时确定地址</strong></p>
<p>编译器编译的目标程序都采用从0开始的编址方式。</p>
<p><strong>（3）动态分配方式——程序执行时确定地址</strong></p>
<p>可以接受不可预测的分配和释放内存区域的请求，实现个别存储区域的分配和回收。</p>
<h3><span id="2地址变换">2.地址变换</span></h3><p><strong>（1）地址空间</strong></p>
<p>程序编译后，从0开始，称为逻辑地址，其集合为地址空间。</p>
<p>由计算机体系结构决定，如16位地址范围64kb，32位地址范围4gb。</p>
<p><strong>（2）存储空间</strong></p>
<p>程序在主存中实际位置称为物理地址，其集合为存储空间。</p>
<p>大小由计算机的内存决定。</p>
<p><strong>（3）地址转换</strong></p>
<p>逻辑地址到物理地址的转换，又叫重定位。</p>
<h3><span id="3存储保护">3.存储保护</span></h3><p><strong>（1）地址保护</strong></p>
<p>一个进程中的程序通常不能跳转到另一个进程的指令地址上去。</p>
<p><strong>（2）权限保护</strong></p>
<p>对于不同的进程有不同的存取权限。</p>
<p>4.存储共享</p>
<p>（1）允许每个进程访问该程序同一个副本</p>
<p>（2）让每个进程有自己单独的副本</p>
<h3><span id="5存储扩充">5.存储扩充</span></h3><p><strong>（1）请求调入功能</strong></p>
<p>把程序的一部分装入内存，使其先运行，在运行的过程中随时请求操作系统把需要的部分调入内存。</p>
<p><strong>（2）置换功能</strong></p>
<p>把不需要的部分换出主存，以装载需要的部分。（需要外存支持）</p>
<h2><span id="二-连续分配方式">二、连续分配方式</span></h2><p>1.单一连续分配</p>
<p>出现在单道程序系统中。</p>
<h3><span id="2固定分区分配">2.固定分区分配</span></h3><p><strong>（1）特点</strong></p>
<ul>
<li>操作系统初始化时把内存空间划分多个分区</li>
<li>运行时不改变，这种机制称为固定分区分配</li>
</ul>
<p><strong>（2）划分固定分区的两种方法</strong></p>
<ul>
<li>分区大小相同</li>
<li>分区大小不同</li>
</ul>
<p><strong>（3）优点：</strong>简单</p>
<p><strong>缺点：</strong>内存利用率低，会产生很多内碎片</p>
<h3><span id="3动态分区分配按需分配">3.动态分区分配——按需分配</span></h3><p><strong>（1）特点</strong></p>
<ul>
<li>事先不划定大小</li>
<li>根据进程大小动态分配内存空间</li>
</ul>
<p><strong>（2）分配策略</strong>（重要）</p>
<ul>
<li>首次适应算法：从链表的开头开始查找</li>
<li>下次适应算法：对首次适应算法的改动，从上次查找停止的位置开始查找</li>
<li>最佳适应算法：<strong>查找时间最长，产生最多外碎片</strong></li>
<li>最坏适应算法：使用当前可用的最大分区</li>
</ul>
<p><strong>排序：首次&gt;下次&gt;最坏&gt;最佳</strong></p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106030021302.png" alt="image-20241106030021302"></p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106030042521.png" alt="image-20241106030042521"></p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106030056654.png" alt="image-20241106030056654"></p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106030140820.png" alt="image-20241106030140820"></p>
<h2><span id="三-交换和覆盖">三、交换和覆盖</span></h2><h2><span id="四-基本分页分配方式">四、基本分页分配方式</span></h2><p><strong>分区分配方式的缺点：</strong></p>
<ul>
<li>会遗留很多碎片</li>
<li>要求连续的较大的空间</li>
</ul>
<p><strong>当前操作系统全部采用基本分页分配方式。</strong></p>
<h3><span id="1页面相关概念">1.页面相关概念</span></h3><p><strong>（1）页面：</strong></p>
<p>分页存储管理是将作业的逻辑地址划分成一系列同等大小的部分，称为页。</p>
<p>每个作业的页的编号都是从0开始。</p>
<p>把可用的物理内存也划分成同样大小的连续的部分，称为块。</p>
<p>先有块，才有页。</p>
<p><strong>（2）地址结构：</strong></p>
<p>由页号和页内偏移量组成。</p>
<p>2^10&#x3D;1K     2^11&#x3D;2K     2^12&#x3D;4K    2^20&#x3D;1M</p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106031044737.png" alt="image-20241106031044737"></p>
<h3><span id="2-计算重要">2、计算（重要）</span></h3><h4><span id="1若逻辑地址a十进制页大小l">（1）<strong>若逻辑地址A（十进制），页大小L</strong></span></h4><p>①页号p&#x3D; INT（A&#x2F;L)</p>
<p>②页内偏移w&#x3D; (A mod L)</p>
<h4><span id="2若逻辑地址a八x2f十六进制页面大小为l">（2）<strong>若逻辑地址A（八&#x2F;十六进制），页面大小为L</strong></span></h4><p>①先把逻辑地址A转换成二进制；</p>
<p>②计算页面大小L在地址结构中占的位数l；</p>
<p>③右侧数0 ~ l-1位为偏移量；</p>
<p>④右侧数第 l 位开始为页号。</p>
<h4><span id="3逻辑地址a转物理地址">（3）<strong>逻辑地址A转物理地址</strong></span></h4><p>若逻辑地址为十进制数，则用页号p&#x3D;INT(A&#x2F;页大小L), 页内偏移量w&#x3D;AmodL，找页表块 号，</p>
<p>块号大小+偏移量&#x3D;物理地址 </p>
<p>若为八进制&#x2F;十六进制，则转为二进制，然后根据页大小L从右往左取位数，取页内偏移量 和页号，找页表块号，</p>
<p>块号大小+偏移量&#x3D;物理地址</p>
<p><img src="/2024/11/06/OS-%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20241106032228541.png" alt="image-20241106032228541"></p>
<h2><span id="3-页面大小">3、页面大小</span></h2><h4><span id="1分页存储管理所造成的资源消耗"><strong>（1）分页存储管理所造成的资源消耗</strong></span></h4><ul>
<li><strong>内存资源：</strong>页表需要保存在内存中，占用内存资源 </li>
<li><strong>运行性能：</strong>获取指令的过程中需要多次访问内存（至少2次！）</li>
</ul>
<p><strong>（2）把页表页看成普通的文件，对它进行离散的分配，即对页表再分页，由此形成多级页表 的思想。</strong></p>
<p><strong>（3）最优页面大小公式：</strong></p>
<p> <strong>p&#x3D;根号（2es）</strong> </p>
<p>页面大小p，每个页表项需要e字节，平均进程大小是s字节</p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2024/10/24/java%E9%A2%98%E5%BA%93%EF%BC%88%E4%B8%8A%EF%BC%89/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

    
        <div id="vcomments"></div>
        <script>
            var META = ['nick', 'mail', 'link'];
            var meta = 'nick,mail';
            meta = meta.split(',').filter(item => {
                return META.includes(item);
            });
            new Valine({
                el: '#vcomments',
                appId: 'f131VXTFNbI57QRvg5lJFtbq-MdYXbMMI',
                appKey: 'd1GENolYcYpRMO2FbRRbarov',
                lang: 'zh-CN',
                placeholder: 'Say something',
                avatar: 'mp',
                meta: meta
            })
        </script>    
     

     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

    
      <div class="search-popup">
    <div class="search-popup-overlay">  
    </div>
    <div class="search-popup-window" >
        <div class="search-header">
            <div class="search-input-container">
              <input autocomplete="off" autocapitalize="off" maxlength="80"
                     placeholder="Search Anything" spellcheck="false"
                     type="search" class="search-input">
            </div>
            <div class="search-close-btn">
                <div class="icon close-btn"></div>
            </div>
        </div>
        <div class="search-result-container">
        </div>
    </div>
</div>

<script>
    const searchConfig = {
        path             : "/search.xml",
        top_n_per_article: "1",
        unescape         : "false",
        trigger: "auto",
        preload: "false"
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script>
<script src="/js/search.js"></script>
    
    

  </body>
</html>
